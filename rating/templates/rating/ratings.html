{% extends "base.html" %}
{% load static %}

{% block content %}
    <div class="container" id="rating">
    {% for post in posts %}
        <div class="card">
          <div class="card-body">
            <h5 class="card-title">{{ post.header }}</h5>
            <p class="card-text">{{ post.text }}</p>
            <h5 class="card-title">Avg rating:
                <span class="fa fa-star {% if post.average_rating > 0 %} checked {% endif %}"></span>
                <span class="fa fa-star {% if post.average_rating > 1 %} checked {% endif %}"></span>
                <span class="fa fa-star {% if post.average_rating > 2 %} checked {% endif %}"></span>
                <span class="fa fa-star {% if post.average_rating > 3 %} checked {% endif %}" ></span>
                <span class="fa fa-star {% if post.average_rating > 4 %} checked {% endif %}"></span>
            </h5>
            <ul class="btn btn-light list-inline rating-list">
              <li onclick="rate(5, {{ post.id }})">
                  <i class="fa fa-star {% if post.user_rating > 4 %} checked {% endif %}" title="Rate 5"></i></li>
              <li onclick="rate(4, {{ post.id }})">
                  <i class="fa fa-star {% if post.user_rating > 3 %} checked {% endif %}" title="Rate 4"></i></li>
              <li onclick="rate(3, {{ post.id }})">
                  <i class="fa fa-star {% if post.user_rating > 2 %} checked {% endif %}" title="Rate 3"></i></li>
              <li onclick="rate(2, {{ post.id }})">
                  <i class="fa fa-star {% if post.user_rating > 1 %} checked {% endif %}" title="Rate 2"></i></li>
              <li onclick="rate(1, {{ post.id }})">
                  <i class="fa fa-star {% if post.user_rating > 0 %} checked {% endif %}" title="Rate 1"></i></li>
            </ul>
          </div>
        </div>
    {% endfor %}
    </div>

{% endblock %}